# Apex(private)
# 目次

- ファイルの構成
  - 文量
  - 改行コード
  - 文字コード
  - 空行
  - 空白
  - 括弧
  - インデント
  - 行
  - 改行・折り返し
- ステートメント
  - 条件文
  - 繰り返し文
  - try-catch文
- コメント
  - 実装コメント
  - ドキュメントコメント
- 命名規則
  - クラス名・インターフェース名
  - メソッド名
  - 変数名
  - 定数名

# Apex スタイルガイド

## はじめに
コードの読みやすさを向上させ、エンジニアがコードを迅速かつ完全に
理解できるようにすることを目的とする。

基本はOracleのスタイルを採用する。[Code Conventions for the Java TM Programming Language](http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html)
採用しない部分は注釈を入れる。

基本的には見やすさ、美しさ、を重視するが、パフォーマンスに影響がある場合はその限りではない。

## ファイルの構成
ファイルは、空白業で区切られるセクションと、各セクションを識別する
オプションのコメントで構成される。
### 長さ
- [SHOULD] 1ファイル2000行未満に抑える。
### 改行コード
- [MUST] LF
### 文字コード
- [MUST] UTF-8
### 空行
論理的に関連するコードをセクションに分け、可読性を高める目的で適宜使用する。
- [MUST] ファイルの末尾に空行を置かない。
- [SHOULD] 連続した2行以上の空行を使用しない。
<!-- Oracleの Code Conventions には2行以上の空行を使用するパターンが記述されている -->
### 空白
- [MUST] 行末に空白を置かない。
- [MUST] カンマ、セミコロンの直後に空白を置く。
- [MUST] 二項演算子とオペランドの間に空白を置く。
- [MUST] 単項演算子とオペランドの間に空白を置かない。
- [MUST] キャスト演算子の直後に空白を置く。
- [MUST] 丸括弧の内側1文字目に空白を置かない。
- [MUST] クラス、メソッド、コンストラクタの宣言で使用する中括弧の前に空白を置く。
- [MUST] コレクションの宣言で使用する中括弧の直前に空白を置かない。
- [MUST] if、while、forなどのキーワードと後続の丸括弧の間に空白を置く。
- [MUST] メソッド名と後続の丸括弧の間に空白を置かない。
### 括弧
- [MUST] 中括弧、カギカッコで行を始めない。
- [SHOULD] 演算子を複数含む式は優先順位を明確にするため、丸括弧を使用する。
```
if (a == b && c == d)     // AVOID!
if ((a == b) && (c == d)) // RIGHT
```
- [MUST] 三項演算子の条件句は丸括弧で囲む
### インデント
- [MUST] インデントは1レベルあたり空白2つを使用する。タブ文字は使用しない。
<!-- Oracleの Code Conventions には空白4つと指定されている -->
- [MUST] ブロック内の文は1レベルインデントする。
### 行
- [MUST] 1行につき1宣言まで。
- [MUST] 1行につき1文（statement）まで。
- [SHOULD] 1行につき80文字を超過しない（全角文字は2文字換算）。
### 改行・折り返し
- [SHOULD] カンマの前で改行しない
- [SHOULD] 演算子のあとで改行しない
- [SHOULD] 改行のあとの文は1レベル深くインデントする。
- [SHOULD] 中括弧によるブロックが続く場合は2レベル深くインデントする。
- [SHOULD] 複数の行にわかれる三項演算子は使用しない

## ステートメント
### 条件文
- [MUST] 1文のみの条件文は中括弧を使用しない。
- [MUST] 複数行にまたがる条件文の中括弧は省略しない。
### 繰り返し文
- [SHOULD] do-while文は避け、for文を使用する。
- [MUST] for文のセミコロンのあとに空白を入れる。
### try-catch文

## コメント
### 実装コメント
特定の実装に関するコメント。
コード自体で容易に入手できない追加情報を提供するために使用し、乱用しない。
- [MUST] 日本語を使用する。
- [SHOULD] コードの不活性化の目的でコメントを使用しない（不要なコードは削除する）。
- [MUST] TODOコメントは以下の形式を使用。
    // TODO: コメント
### ドキュメントコメント
仕様を記述する
Apexdocの記述方法に従う

## 命名規則
- [SHOULD] 一般的でない略語は使用しない。
- [SHOULD] 一般的な略語は積極的に使用する。
- [MUST] 頭字語や類語は単語として綴りの記法を適用する。
```
// good
XmlHttpRequest
getCustomerId

// bad
XMLHTTPRequest
getCustomerID
```
### クラス名・インターフェース名
- [MUST] アッパーキャメルケース
- [MUST] 名詞を使用。
### メソッド名
- [MUST] ローワーキャメルケース
- [MUST] 動詞(句)を使用。
### 変数名
- [MUST] ローワーキャメルケース
- [SHOULD] スコープに合わせた適切な長さの名前を使用する。
### 定数名
- [MUST] 大文字のスネークケース

<!--
## プラクティス
### アクセス
- アクセス修飾子を適切に使用する
### クラスメソッド・クラス変数
- [SHOULD] インスタンスからクラスメソッド、クラス変数にアクセスしない。
### 定数
- 数値定数は-1、0、1を除いて直接コーディングしない。
### 変数代入
- [MUST] 1つのステートメントで複数の変数に同じ値を代入しない。
```
fooBar.fChar = barFoo.lchar = 'c'; // AVOID!
```
-->
